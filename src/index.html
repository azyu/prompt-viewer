<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SD Prompt Reader</title>
    <!-- Use Google Fonts for premium typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Custom Title Bar -->
    <div class="title-bar">
        <div class="title-text">SD Prompt Reader</div>
    </div>

    <div class="app-container">
        <!-- Left Panel: Image & Drop Zone -->
        <div class="image-panel" id="drop-zone">
            <div class="empty-state" id="empty-state">
                <div class="icon-box">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                        <circle cx="8.5" cy="8.5" r="1.5"></circle>
                        <polyline points="21 15 16 10 5 21"></polyline>
                    </svg>
                </div>
                <h3>Drag & Drop PNG</h3>
                <p>or click to select</p>
                <input type="file" id="file-input" accept="image/png" hidden>
            </div>
            <div class="image-preview hidden" id="image-preview-container">
                <img id="preview-img" src="" alt="Preview">
                <div class="file-name" id="file-name">filename.png</div>
            </div>
        </div>

        <!-- Right Panel: Metadata -->
        <div class="metadata-panel">
            <div class="header">
                <h2>Generation Data</h2>
                <!-- <button class="btn-icon" title="Settings">
                    <svg ...></svg>
                </button> -->
            </div>

            <div class="field-group">
                <label>
                    <span>Attributes</span>
                    <button class="btn-copy-sm" id="btn-copy-attributes" title="Copy Attributes">Copy</button>
                </label>
                <div class="attributes-grid" id="attributes-grid">
                    <!-- Dynamic Attributes like Steps: 20, Sampler: Euler a ... -->
                    <div class="attr-item placeholder">No image loaded</div>
                </div>
            </div>

            <div class="field-group">
                <label>
                    <span>Positive Prompt</span>
                    <button class="btn-copy" id="btn-copy-positive">Copy</button>
                </label>
                <div class="textarea-wrapper">
                    <textarea id="positive-prompt" readonly
                        placeholder="Positive prompt will appear here..."></textarea>
                </div>
            </div>

            <div class="field-group">
                <label>
                    <span>Negative Prompt</span>
                    <button class="btn-copy" id="btn-copy-negative">Copy</button>
                </label>
                <div class="textarea-wrapper">
                    <textarea id="negative-prompt" readonly
                        placeholder="Negative prompt will appear here..."></textarea>
                </div>
            </div>

            <div class="field-group full-raw hidden">
                <label>Raw Data</label>
                <textarea id="raw-data" readonly></textarea>
            </div>
        </div>
    </div>

    <!-- Using ExifReader from node_modules might require require() in renderer if nodeIntegration=false? 
         Plan: We will use a script tag relative path if strictly browser based, OR require() in renderer if allowed.
         Since I disabled nodeIntegration, I should bundle it or use script tag. 
         Wait, `npm install exifreader` puts it in node_modules. 
         In a pure Electron without bundler (Webpack/Vite), requiring modules in Renderer needs nodeIntegration:true OR a preload script that exposes it.
         
         Simplest fix for "Personal" usage: Enable nodeIntegration in main.js? 
         User agreed to proceed. I already wrote main.js with nodeIntegration: false.
         I can assume I will implement the logic in `renderer.js` and might fail to `require('exifreader')` without a bundler.
         
         Correction: I'll include `node_modules/exifreader/dist/exif-reader.js` via script tag?
         Or simpler: I will re-write main.js to allow nodeIntegration for this specific task to make it easy to `require` things.
         OR: I can use the 'exifreader' file path directly if I can find where it is.
         
         Let's try to stick to "Rich Aesthetics" first. Logic comes in renderer.js.
    -->
    <script src="renderer.js"></script>
</body>

</html>